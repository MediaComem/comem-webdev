<!DOCTYPE html>
<html>
  <head>
    <title>Title</title>
    <meta charset='utf-8'>
    <link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/unsemantic/1.1.3/unsemantic-grid-responsive.min.css'>
    <link rel='stylesheet' href='https://cdn.rawgit.com/knsv/mermaid/6.0.0/dist/mermaid.css'>
    <style>
      @import url(https://fonts.googleapis.com/css?family=Yanone+Kaffeesatz);
      @import url(https://fonts.googleapis.com/css?family=Droid+Serif:400,700,400italic);
      @import url(https://fonts.googleapis.com/css?family=Ubuntu+Mono:400,700,400italic);

      body { font-family: 'Droid Serif'; }
      h1, h2, h3 {
        font-family: 'Yanone Kaffeesatz';
        font-weight: normal;
      }
      .remark-code, .remark-inline-code {
        font-family: 'Ubuntu Mono';
      }
      ul li {
        margin-top: 0.4em;
      }
    </style>
  </head>
  <body>
    <textarea id='source'>

class: center, middle

<img src="https://upload.wikimedia.org/wikipedia/commons/thumb/9/99/Unofficial_JavaScript_logo_2.svg/480px-Unofficial_JavaScript_logo_2.svg.png" width="150" height="150">
# JavaScript Introduction

---

# JavaScript defines **6 types**

.grid-70[

```js
var aNumber = 3.12;
var aBoolean = true;
var aString = "HEIG-VD";
var anObject = {
  aProperty: null
};

// t is true for all of these:
var t;
t = typeof aNumber === "number";
t = typeof aBoolean === "boolean";
t = typeof aString === "string";
t = typeof anObject === "object";
t = typeof anObject.aProperty === "object";
t = typeof anObject.foo === "undefined";
```

]

.grid-30[

They are:

* number
* boolean
* string
* object
* undefined
* null

`null` is a type, but `typeof null === object`

]

---

# JavaScript is a **dynamic** language

.grid-70[

```js
var myVariable = "aString";
typeof myVariable; // "string"

myVariable = 3.12;
typeof myVariable; // "number"

myVariable = true;
typeof myVariable; // "boolean"

myVariable = {
  aProperty: "aValue"
};
typeof myVariable; // "object"
```

]

.grid-30[

* When you declare a **variable**, you don't specify a type.
* The type can **change** over time.

]

---

# There are **2 scopes** for variables: the (evil) global scope and the function scope

.grid-50[

```js
var aVariableInGlobalScope;

function myFunction() {
*  var aVariableInFunctionScope;
*  anotherVariableInGlobalScope;
}

function myFunction2() {
  for (i = 0; i < 10; i++) {
    // i is in global scope!
  }
  for (var j = 0; j < 10; j++) {
    // j is in function scope!
  }
}
```

]

.grid-50[

* A variable declared within a function is **not accessible** outside this function.
* Unless using **strict mode**, it is not mandatory to declare variables (beware of typos...)
* Two scripts loaded from the same HTML page share the same global scope (beware of **naming conflicts**...).
* There is no **block scope**.

]

---

# JavaScript supports **first-class functions**

.grid-60[

```js
// Named function
function multiplyByTwo(n) {
  return n * 2;
}

multiplyByTwo(3); // 6

// Stored function
var hello = function(name) {
  console.log("Hello " + name + "!");
};

hello("World"); // "Hello World!"

// Function argument
function applyToArray(array, func) {
  for (int i = 0; i < array.length; i++) {
    array[i] = func(array[i]);
  }
}

var a = [ 1, 2, 3 ];
applyToArray(a, multiplyByTwo);
console.log(a); // [ 2, 4, 6 ]
```

]

.grid-40[

* New functions can be defined at **runtime**.
* Functions can be **stored** in data structures.
* Functions can be passed as **arguments** to other functions.

]

---

# Objects are **dynamic bags** of properties

.grid-60[

```js
// Let's create an object
var person = {
  firstName: 'olivier',
  lastName: 'liechti'
};

// We can dynamically add properties
person.gender = 'male';
person['zip'] = 1446;

// And delete them
delete person.zip;

for (var key in person) {
  console.log(key + " : " + person[key]);
}
```

]

.grid-40[

* There are different ways to **access properties** of an object.
* JavaScript is **dynamic**: it is possible to **add** and **remove** properties to an object at any time.
* Every object has a different list of properties (**no class**).

]

---

# Array are **objects**

```js
var fruits = ["apple", "pear"];

fruits.push("banana");
typeof fruits; // "object"

for (var i = 0; i < fruits.length; i++) {
  console.log("fruits[" + i + "] = " + fruits[i]);
}

var transformedFruits = fruits.map( function(fruit) {
  return fruit.toUpperCase();
});

transformedFruits.forEach( function(fruit) {
  console.log(fruit);
});
```

---

# The language has no support for **classes**

There are 3 ways to create objects.

.grid-60[

```js
// Create an object with a literal
var person = {
  firstName: "olivier",
  lastName: "liechti"
};

// Create an object with a prototype
var child = Object.create(person);

// Create an object with a constructor
var child = new Person("olivier", "liechti");
```

]

.grid-40[

* **class** is a reserved word in JavaScript, but it is not used in the current version of the language (reserved for the future).
* A **constructor** is a function like any other (uppercase is a coding convention).
* It is the use of the **new** keyword that triggers the object creation process.

]

---

# Every object **inherits** from a **prototype** object

.grid-40[

<div class='mermaid'>
  graph TB;
    A["<strong>child</strong><br>firstName: 'Luke'"]-->|prototype|B;
    B["<strong>father</strong><br>firstName: 'Anakin'<br>lastName: 'Skywalker'"]-->|prototype|C;
    C["<strong>Object.prototype</strong>"];
</div>

]

.grid-60[

```js
// Prints "Skywalker" on the console
console.log(child.lastName);
```

* Every object inherits from a prototype object. It **inherits and can override** its properties, including its methods.
* Objects created with object literals inherit from **Object.prototype**.
* When you access the property of an object, JavaScript **looks up the prototype chain** until it finds an ancestor that has a value for this property.

]

    </textarea>
    <script src='https://remarkjs.com/downloads/remark-latest.min.js'></script>
    <script src='https://cdn.rawgit.com/knsv/mermaid/6.0.0/dist/mermaid.min.js'></script>
    <script>

      var slideshow = remark.create({
        highlightLines: true,
        highlightSpans: true
      });

      mermaid.startOnLoad = false;
      mermaid.init('.remark-visible .mermaid');

      slideshow.on('afterShowSlide', function() {
        mermaid.init('.remark-visible .mermaid');
      });
    </script>
  </body>
</html>
